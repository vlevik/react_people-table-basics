{"version":3,"sources":["components/HomePage.tsx","components/Loader/Loader.tsx","api.ts","components/PersonInfo.tsx","components/PeopleTable.tsx","components/PeoplePage.tsx","App.tsx","index.tsx"],"names":["HomePage","className","Loader","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","PersonInfo","person","mother","father","personSlug","useParams","getElement","parent","parentName","element","undefined","to","slug","cn","sex","name","motherElement","motherName","fatherElement","fatherName","born","died","PeopleTable","people","map","find","p","PeoplePage","elementToRender","useState","setPeople","isLoading","setIsLoading","hasError","setHasError","useEffect","downloadPeople","peopleFromServer","length","App","role","isActive","path","createRoot","document","getElementById","render"],"mappings":"6QAEaA,EAAqB,WAChC,OACE,oBAAIC,UAAU,QAAd,sBAEH,E,qBCJYC,G,MAAS,kBACpB,qBAAKD,UAAU,SAAS,UAAQ,SAAhC,SACE,qBAAKA,UAAU,qBAFG,GCOf,SAASE,IAEd,OANYC,EAMA,IALL,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,EAAxB,KAMvBI,MAAK,kBAAMC,MATA,oEASN,IACLD,MAAK,SAAAE,GAAQ,OAAIA,EAASC,MAAb,IARlB,IAAcP,CASb,CCHM,IAAMQ,EAA8B,SAAC,GAIrC,IAHLC,EAGI,EAHJA,OACAC,EAEI,EAFJA,OACAC,EACI,EADJA,OAEQC,EAAeC,cAAfD,WAEFE,EAAa,SAACC,EAClBC,GACA,IAAIC,EAEJ,QAAQ,GACN,UAAiBC,IAAXH,EACJE,EACE,cAAC,IAAD,CACEE,GAAE,iBAAKJ,QAAL,IAAKA,OAAL,EAAKA,EAAQK,MACfvB,UAAWwB,IAAG,CACZ,kBAAmC,OAAV,OAANN,QAAM,IAANA,OAAA,EAAAA,EAAQO,OAH/B,gBAMGP,QANH,IAMGA,OANH,EAMGA,EAAQQ,OAGb,MAEF,KAAqB,OAAfP,EACJC,EAAUD,EACV,MAMF,QACEC,EAAU,IAId,OAAOA,CACR,EA6CKO,EAAgBV,EAAWJ,EAAQD,EAAOgB,YAC1CC,EAAgBZ,EAAWH,EAAQF,EAAOkB,YAEhD,OACE,mCACE,qBACE,UAAQ,SACR9B,UAAWwB,IAAG,CACZ,yBAA0BT,IAAeH,EAAOW,OAHpD,UAME,6BACE,cAAC,IAAD,CACED,GAAE,iBAAKV,QAAL,IAAKA,OAAL,EAAKA,EAAQW,MACfvB,UAAWwB,IAAG,CACZ,kBAAkC,MAAfZ,EAAOa,MAH9B,SAMGb,EAAOc,SAIZ,6BAAKd,EAAOa,MACZ,6BAAKb,EAAOmB,OACZ,6BAAKnB,EAAOoB,OACZ,6BAAKL,IACL,6BAAKE,QAIZ,ECrHYI,EAA+B,SAAC,GAEtC,IADLC,EACI,EADJA,OAEA,OACE,wBACE,UAAQ,cACRlC,UAAU,uDAFZ,UAIE,gCACE,+BACE,sCACA,qCACA,sCACA,sCACA,wCACA,6CAIJ,uCAEGkC,QAFH,IAEGA,OAFH,EAEGA,EAAQC,KAAI,SAAAvB,GACX,IAAMC,EAASqB,EACZE,MAAK,SAAAC,GAAC,OAAIzB,EAAOgB,aAAeS,EAAEX,IAA5B,IACHZ,EAASoB,EACZE,MAAK,SAAAC,GAAC,OAAIzB,EAAOkB,aAAeO,EAAEX,IAA5B,IAET,OACE,cAAC,EAAD,CAEEd,OAAQA,EACRC,OAAQA,EACRC,OAAQA,GAHHF,EAAOW,KAMjB,QAKR,EC1CYe,EAAuB,WAClC,IAuBIC,EAvBJ,EAA4BC,mBAA0B,MAAtD,mBAAON,EAAP,KAAeO,EAAf,KACA,EAAkCD,oBAAS,GAA3C,mBAAOE,EAAP,KAAkBC,EAAlB,KACA,EAAgCH,oBAAS,GAAzC,mBAAOI,EAAP,KAAiBC,EAAjB,KAuBA,OArBAC,qBAAU,WACR,IAAMC,EAAc,iDAAG,8GAEnBJ,GAAa,GAFM,SAGYzC,IAHZ,OAGb8C,EAHa,OAKnBP,EAAUO,GALS,sDAOnBH,GAAY,GAPO,8BAWnBF,GAAa,GAXM,4EAAH,qDAepBI,GACD,GAAE,KAIK,GACN,KAAML,EACJH,EACE,cAAC,EAAD,IAEF,MAEF,KAAMK,EACJL,EACE,mBAAG,UAAQ,qBAAqBvC,UAAU,kBAA1C,kCAIF,MAEF,MAAM,OAACkC,QAAD,IAACA,KAAQe,QACbV,EACE,mBAAG,UAAQ,kBAAX,+CAIF,MAEF,MAAO,OAACL,QAAD,IAACA,MAAQe,QACdV,EACE,cAAC,EAAD,CACEL,OAAQA,IAShB,OACE,qCACE,oBAAIlC,UAAU,QAAd,yBAEA,qBAAKA,UAAU,QAAf,SACE,qBAAKA,UAAU,sBAAf,SACGuC,QAKV,ECpEYW,EAAM,WACjB,OACE,sBAAK,UAAQ,MAAb,UACE,qBACE,UAAQ,MACRlD,UAAU,iCACVmD,KAAK,aACL,aAAW,kBAJb,SAME,qBAAKnD,UAAU,YAAf,SACE,sBAAKA,UAAU,eAAf,UACE,cAAC,IAAD,CACEA,UACE,gBAAGoD,EAAH,EAAGA,SAAH,OAAkB5B,IAAG,cAAe,CAClC,8BAA+B4B,GADjC,EAIF9B,GAAG,IANL,kBAWA,cAAC,IAAD,CACEtB,UACE,gBAAGoD,EAAH,EAAGA,SAAH,OAAkB5B,IAAG,cAAe,CAClC,8BAA+B4B,GADjC,EAIF9B,GAAG,UANL,2BAcN,sBAAMtB,UAAU,UAAhB,SACE,qBAAKA,UAAU,YAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACEqD,KAAK,IACLjC,QAAS,oBAAIpB,UAAU,QAAd,8BAEX,cAAC,IAAD,CAAOqD,KAAK,IAAIjC,QAAS,cAAC,EAAD,MACzB,cAAC,IAAD,CAAOiC,KAAK,QAAQjC,QAAS,cAAC,IAAD,CAAUE,GAAG,QAC1C,cAAC,IAAD,CAAO+B,KAAK,UAAUjC,QAAS,cAAC,EAAD,IAA/B,SACE,cAAC,IAAD,CAAOiC,KAAK,cAAcjC,QAAS,cAAC,EAAD,iBAQhD,ECxDDkC,qBAAWC,SAASC,eAAe,SAChCC,OACC,cAAC,IAAD,UACE,cAAC,EAAD,M","file":"static/js/main.874697bf.chunk.js","sourcesContent":["import React from 'react';\n\nexport const HomePage: React.FC = () => {\n  return (\n    <h1 className=\"title\">Home Page</h1>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import React from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport cn from 'classnames';\nimport { Person } from '../types';\n\ntype Props = {\n  person: Person,\n  mother: Person | undefined,\n  father: Person | undefined,\n};\n\nexport const PersonInfo: React.FC<Props> = ({\n  person,\n  mother,\n  father,\n}) => {\n  const { personSlug } = useParams();\n\n  const getElement = (parent: Person | undefined,\n    parentName: string | null) => {\n    let element;\n\n    switch (true) {\n      case (parent !== undefined):\n        element = (\n          <Link\n            to={`${parent?.slug}`}\n            className={cn({\n              'has-text-danger': parent?.sex === 'f',\n            })}\n          >\n            {parent?.name}\n          </Link>\n        );\n        break;\n\n      case (parentName !== null):\n        element = parentName;\n        break;\n\n        // case (person.fatherName !== null):\n        //   element = person.fatherName;\n        //   break;\n\n      default:\n        element = '-';\n        break;\n    }\n\n    return element;\n  };\n\n  // switch (true) {\n  //   case (mother !== undefined):\n  //     motherElement = (\n  //       <Link\n  //         to={`${mother?.slug}`}\n  //         className={cn({\n  //           'has-text-danger': mother?.sex === 'f',\n  //         })}\n  //       >\n  //         {mother?.name}\n  //       </Link>\n  //     );\n  //     break;\n\n  //   case (person.motherName !== null):\n  //     motherElement = person.motherName;\n  //     break;\n\n  //   default:\n  //     motherElement = '-';\n  //     break;\n  // }\n\n  // switch (true) {\n  //   case (father !== undefined):\n  //     fatherElement = (\n  //       <Link\n  //         to={`${father?.slug}`}\n  //       >\n  //         {father?.name}\n  //       </Link>\n  //     );\n  //     break;\n\n  //   case (person.fatherName !== null):\n  //     fatherElement = person.fatherName;\n  //     break;\n\n  //   default:\n  //     fatherElement = '-';\n  //     break;\n  // }\n\n  const motherElement = getElement(mother, person.motherName);\n  const fatherElement = getElement(father, person.fatherName);\n\n  return (\n    <>\n      <tr\n        data-cy=\"person\"\n        className={cn({\n          'has-background-warning': personSlug === person.slug,\n        })}\n      >\n        <td>\n          <Link\n            to={`${person?.slug}`}\n            className={cn({\n              'has-text-danger': person.sex === 'f',\n            })}\n          >\n            {person.name}\n          </Link>\n        </td>\n\n        <td>{person.sex}</td>\n        <td>{person.born}</td>\n        <td>{person.died}</td>\n        <td>{motherElement}</td>\n        <td>{fatherElement}</td>\n      </tr>\n    </>\n  );\n};\n","import React from 'react';\nimport { PersonInfo } from './PersonInfo';\nimport { Person } from '../types';\n\ntype Props = {\n  people: Person[] | null,\n};\n\nexport const PeopleTable: React.FC<Props> = ({\n  people,\n}) => {\n  return (\n    <table\n      data-cy=\"peopleTable\"\n      className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n    >\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Sex</th>\n          <th>Born</th>\n          <th>Died</th>\n          <th>Mother</th>\n          <th>Father</th>\n        </tr>\n      </thead>\n\n      <tbody>\n\n        {people?.map(person => {\n          const mother = people\n            .find(p => person.motherName === p.name);\n          const father = people\n            .find(p => person.fatherName === p.name);\n\n          return (\n            <PersonInfo\n              key={person.slug}\n              person={person}\n              mother={mother}\n              father={father}\n            />\n          );\n        })}\n\n      </tbody>\n    </table>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Loader } from './Loader';\nimport { Person } from '../types';\nimport { getPeople } from '../api';\nimport { PeopleTable } from './PeopleTable';\n\nexport const PeoplePage: React.FC = () => {\n  const [people, setPeople] = useState<Person[] | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    const downloadPeople = async () => {\n      try {\n        setIsLoading(true);\n        const peopleFromServer = await getPeople();\n\n        setPeople(peopleFromServer);\n      } catch (error) {\n        setHasError(true);\n\n        throw error;\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    downloadPeople();\n  }, []);\n\n  let elementToRender;\n\n  switch (true) {\n    case (isLoading):\n      elementToRender = (\n        <Loader />\n      );\n      break;\n\n    case (hasError):\n      elementToRender = (\n        <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n          Something went wrong\n        </p>\n      );\n      break;\n\n    case (!people?.length):\n      elementToRender = (\n        <p data-cy=\"noPeopleMessage\">\n          There are no people on the server\n        </p>\n      );\n      break;\n\n    case (!!people?.length):\n      elementToRender = (\n        <PeopleTable\n          people={people}\n        />\n      );\n      break;\n\n    default:\n      break;\n  }\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n\n      <div className=\"block\">\n        <div className=\"box table-container\">\n          {elementToRender}\n        </div>\n      </div>\n    </>\n  );\n};\n","// import { Loader } from './components/Loader';\n\nimport {\n  NavLink, Navigate, Route, Routes,\n} from 'react-router-dom';\nimport cn from 'classnames';\nimport './App.scss';\nimport { HomePage } from './components/HomePage';\nimport { PeoplePage } from './components/PeoplePage';\n\nexport const App = () => {\n  return (\n    <div data-cy=\"app\">\n      <nav\n        data-cy=\"nav\"\n        className=\"navbar is-fixed-top has-shadow\"\n        role=\"navigation\"\n        aria-label=\"main navigation\"\n      >\n        <div className=\"container\">\n          <div className=\"navbar-brand\">\n            <NavLink\n              className={\n                ({ isActive }) => cn('navbar-item', {\n                  'has-background-grey-lighter': isActive,\n                })\n              }\n              to=\"/\"\n            >\n              Home\n            </NavLink>\n\n            <NavLink\n              className={\n                ({ isActive }) => cn('navbar-item', {\n                  'has-background-grey-lighter': isActive,\n                })\n              }\n              to=\"/people\"\n            >\n              People\n            </NavLink>\n          </div>\n        </div>\n      </nav>\n\n      <main className=\"section\">\n        <div className=\"container\">\n          <Routes>\n            <Route\n              path=\"*\"\n              element={<h1 className=\"title\">Page not found</h1>}\n            />\n            <Route path=\"/\" element={<HomePage />} />\n            <Route path=\"/home\" element={<Navigate to=\"/\" />} />\n            <Route path=\"/people\" element={<PeoplePage />}>\n              <Route path=\":personSlug\" element={<PeoplePage />} />\n            </Route>\n\n          </Routes>\n        </div>\n      </main>\n    </div>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}