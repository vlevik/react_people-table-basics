{"version":3,"sources":["components/HomePage.tsx","components/Loader/Loader.tsx","api.ts","components/PersonInfo.tsx","components/PeopleTable.tsx","components/PeoplePage.tsx","App.tsx","index.tsx"],"names":["HomePage","className","Loader","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","PersonInfo","person","mother","father","personSlug","useParams","getElement","parent","parentName","element","to","slug","cn","sex","name","motherElement","motherName","fatherElement","fatherName","born","died","PeopleTable","people","getParent","find","p","map","PeoplePage","elementToRender","useState","setPeople","isLoading","setIsLoading","hasError","setHasError","useEffect","downloadPeople","peopleFromServer","length","App","getClassName","isActive","role","path","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.3a6034ce.chunk.js","sourcesContent":["import React from 'react';\n\nexport const HomePage: React.FC = () => {\n  return (\n    <h1 className=\"title\">Home Page</h1>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import React from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport cn from 'classnames';\nimport { Person } from '../types';\n\ntype Props = {\n  person: Person,\n  mother?: Person,\n  father?: Person,\n};\n\nexport const PersonInfo: React.FC<Props> = ({\n  person,\n  mother,\n  father,\n}) => {\n  const { personSlug } = useParams();\n\n  const getElement = (parent: Person | undefined,\n    parentName: string | null) => {\n    let element;\n\n    switch (true) {\n      case (!!parent):\n        element = (\n          <Link\n            to={`${parent?.slug}`}\n            className={cn({\n              'has-text-danger': parent?.sex === 'f',\n            })}\n          >\n            {parent?.name}\n          </Link>\n        );\n        break;\n\n      case (parentName !== null):\n        element = parentName;\n        break;\n\n      default:\n        element = '-';\n        break;\n    }\n\n    return element;\n  };\n\n  const motherElement = getElement(mother, person.motherName);\n  const fatherElement = getElement(father, person.fatherName);\n\n  return (\n    <>\n      <tr\n        data-cy=\"person\"\n        className={cn({\n          'has-background-warning': personSlug === person.slug,\n        })}\n      >\n        <td>\n          <Link\n            to={`${person?.slug}`}\n            className={cn({\n              'has-text-danger': person.sex === 'f',\n            })}\n          >\n            {person.name}\n          </Link>\n        </td>\n\n        <td>{person.sex}</td>\n        <td>{person.born}</td>\n        <td>{person.died}</td>\n        <td>{motherElement}</td>\n        <td>{fatherElement}</td>\n      </tr>\n    </>\n  );\n};\n","import React from 'react';\nimport { PersonInfo } from './PersonInfo';\nimport { Person } from '../types';\n\ntype Props = {\n  people: Person[] | null,\n};\n\nexport const PeopleTable: React.FC<Props> = ({\n  people,\n}) => {\n  const getParent = (parentName: string | null) => {\n    return people?.find(p => parentName === p.name);\n  };\n\n  return (\n    <table\n      data-cy=\"peopleTable\"\n      className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n    >\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Sex</th>\n          <th>Born</th>\n          <th>Died</th>\n          <th>Mother</th>\n          <th>Father</th>\n        </tr>\n      </thead>\n\n      <tbody>\n\n        {people?.map(person => {\n          const mother = getParent(person.motherName);\n          const father = getParent(person.fatherName);\n\n          return (\n            <PersonInfo\n              key={person.slug}\n              person={person}\n              mother={mother}\n              father={father}\n            />\n          );\n        })}\n\n      </tbody>\n    </table>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Loader } from './Loader';\nimport { Person } from '../types';\nimport { getPeople } from '../api';\nimport { PeopleTable } from './PeopleTable';\n\nexport const PeoplePage: React.FC = () => {\n  const [people, setPeople] = useState<Person[] | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    const downloadPeople = async () => {\n      try {\n        const peopleFromServer = await getPeople();\n\n        setPeople(peopleFromServer);\n      } catch (error) {\n        setHasError(true);\n\n        throw error;\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    downloadPeople();\n  }, []);\n\n  let elementToRender;\n\n  switch (true) {\n    case (isLoading):\n      elementToRender = (\n        <Loader />\n      );\n      break;\n\n    case (hasError):\n      elementToRender = (\n        <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n          Something went wrong\n        </p>\n      );\n      break;\n\n    case (!people?.length):\n      elementToRender = (\n        <p data-cy=\"noPeopleMessage\">\n          There are no people on the server\n        </p>\n      );\n      break;\n\n    case (!!people?.length):\n      elementToRender = (\n        <PeopleTable\n          people={people}\n        />\n      );\n      break;\n\n    default:\n      break;\n  }\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n\n      <div className=\"block\">\n        <div className=\"box table-container\">\n          {elementToRender}\n        </div>\n      </div>\n    </>\n  );\n};\n","import {\n  NavLink, Navigate, Route, Routes,\n} from 'react-router-dom';\nimport cn from 'classnames';\nimport './App.scss';\nimport { HomePage } from './components/HomePage';\nimport { PeoplePage } from './components/PeoplePage';\n\nexport const App = () => {\n  const getClassName = ({ isActive }: { isActive: boolean }) => {\n    return cn('navbar-item', {\n      'has-background-grey-lighter': isActive,\n    });\n  };\n\n  return (\n    <div data-cy=\"app\">\n      <nav\n        data-cy=\"nav\"\n        className=\"navbar is-fixed-top has-shadow\"\n        role=\"navigation\"\n        aria-label=\"main navigation\"\n      >\n        <div className=\"container\">\n          <div className=\"navbar-brand\">\n            <NavLink\n              className={getClassName}\n              to=\"/\"\n            >\n              Home\n            </NavLink>\n\n            <NavLink\n              className={getClassName}\n              to=\"/people\"\n            >\n              People\n            </NavLink>\n          </div>\n        </div>\n      </nav>\n\n      <main className=\"section\">\n        <div className=\"container\">\n          <Routes>\n            <Route\n              path=\"*\"\n              element={<h1 className=\"title\">Page not found</h1>}\n            />\n            <Route path=\"/\" element={<HomePage />} />\n            <Route path=\"/home\" element={<Navigate to=\"/\" />} />\n            <Route path=\"/people\" element={<PeoplePage />}>\n              <Route path=\":personSlug\" element={<PeoplePage />} />\n            </Route>\n\n          </Routes>\n        </div>\n      </main>\n    </div>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}